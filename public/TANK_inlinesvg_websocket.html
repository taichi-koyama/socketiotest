<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD> 
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>WebSockets Demo</TITLE>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript">
$(function(){
    var socket = io.connect('http://127.0.0.1:81/');
    socket.on('connect', function() {
      document.getElementById('log').innerHTML = "<li><b>#connected</b></li>" + document.getElementById('log').innerHTML;
      $("#log").html($("#log").html() + "<br />" + 'connected');
      socket.on('info', function (data) {
        $("#log").html($("#log").html() + "<br />" + data.msg);
      });
      socket.on('msg', function(data){
        $("#log").html($("#log").html() + "<br />" + "<b>" + data.msg + "</b>");
      });
      $("#send").click(function(){
        var msg = $("#msg").val();
        if(!msg){
          alert("input your message");
          return;
        }
        socket.emit('msg', msg);
      });
    });
  });
</script>
</HEAD>
<BODY>
  <input id="msg" type="text" style="width:400px;"></input>
  <input id="send" type="button" value="send" /></br >
  <div id="log" style="width:400px;height:400px;overflow:auto;border:1px solid #000000;"></div>

<svg width="600" height="600">
 <defs>
  <radialGradient id="svg_10" spreadMethod="pad">
   <stop stop-color="#ff0000" offset="0"/>
   <stop stop-color="#00ffff" offset="1"/>
  </radialGradient>
  <radialGradient id="svg_11" spreadMethod="pad">
   <stop stop-color="#ff0000" offset="0"/>
   <stop stop-color="#00ffff" offset="1"/>
  </radialGradient>
  <radialGradient id="svg_12" spreadMethod="pad" cx="0.5" cy="0.5" r="0.5">
   <stop stop-color="#ff0000" offset="0"/>
   <stop stop-color="#ff5656" stop-opacity="0.996094" offset="1"/>
  </radialGradient>
  <linearGradient id="svg_13" spreadMethod="pad" x2="1" y2="0.410156" x1="0" y1="0.398438">
   <stop stop-color="#9e8b8b" offset="0"/>
   <stop stop-color="#617474" offset="0.502625"/>
   <stop stop-color="#b5b5bc" stop-opacity="0.996094" offset="1"/>
  </linearGradient>
  <linearGradient id="svg_14">
   <stop stop-color="#9e8b8b" offset="0"/>
   <stop stop-color="#617474" offset="0.463562"/>
   <stop stop-color="#b4b4c1" stop-opacity="0.996094" offset="0.987"/>
  </linearGradient>
  <linearGradient id="svg_15">
   <stop stop-color="#9e8b8b" offset="0"/>
   <stop stop-color="#617474" offset="0.494812"/>
   <stop stop-color="#9595bc" stop-opacity="0.996094" offset="0.983093"/>
  </linearGradient>
  <radialGradient id="svg_16" spreadMethod="pad">
   <stop stop-color="#9e8b8b" offset="0"/>
   <stop stop-color="#617474" offset="0.463562"/>
   <stop stop-color="#b4b4c1" stop-opacity="0.996094" offset="0.987"/>
  </radialGradient>
  <radialGradient id="svg_17" spreadMethod="pad">
   <stop stop-color="#9e8b8b" offset="0"/>
   <stop stop-color="#617474" offset="1"/>
  </radialGradient>
  <radialGradient id="svg_18" spreadMethod="pad" cx="0.5" cy="0.5" r="0.5">
   <stop stop-color="#9e8b8b" offset="0"/>
   <stop stop-color="#617474" offset="1"/>
  </radialGradient>
 </defs>
 <g>
  <title>Layer 1</title>
  <ellipse fill="url(#svg_18)" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" cx="180.999992" cy="88" id="svg_2" rx="125.499992" ry="35" stroke="#5e5050"/>
  <ellipse fill="url(#svg_17)" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" cx="181.499995" cy="355.5" rx="124.999995" ry="35" id="svg_5" stroke="#5e5050"/>
  <ellipse fill="#9e8b8b" stroke="#5e5050" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" cx="484" cy="117" id="svg_7" rx="69" ry="69"/>
  <ellipse id="svg_9" fill="#ff0000" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" cx="484.999998" cy="116.999998" rx="58.499998" ry="58.499998" stroke="#5e5050"/>
  <rect fill="url(#svg_13)" stroke="#5e5050" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="56" y="89" width="251" height="268" id="svg_1"/>
  <rect fill="#252bd1" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="73" y="103.000004" width="36" height="231.999997" id="svg_6" stroke="#383434"/>
  <rect fill="#ffffff" stroke="#383434" stroke-width="4" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="387" y="266" width="184" height="59" id="svg_20"/>
  <text fill="#000000" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="452.725935" y="294" id="svg_19" font-size="24" font-family="serif" text-anchor="middle" xml:space="preserve" stroke="#383434" transform="matrix(3.44753 0 0 1.69854 -1081.29 -188.913)">0001</text>
 </g>
 <script type="text/ecmascript">
   <![CDATA[
     // set element onclick event handler
     window.onload=function () {
        var svg_9 = document.getElementById("svg_9");
        // onclick event handler, change circle radius
        svg_9.onclick = function() {
           var color = this.getAttribute("fill");
           if (color == "#ff0000") {
              this.setAttribute("fill", "#0000ff");
           } else {
              this.setAttribute("fill","#ff0000");
          }
       }
    }
   ]]>
 </script>
</svg>
</BODY>
</HTML>
